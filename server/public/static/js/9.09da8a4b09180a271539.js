webpackJsonp([9],{Vxw6:function(e,t){},cPS6:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("9TmC"),l=a("cAgV"),s=a("Q0Ca"),o={directives:{waves:l.a},filters:{formatTime:s.b},data:function(){return{loading:!0,tableData:[{_id:1,name:"javascript",alias:"js",article_num:"6",creat_time:1536292842438}],Form:{name:"",alias:""},editForm:{name:"",alias:""},rules:{name:[{required:!0,message:"请输入标签名称",trigger:"blur"}],alias:[{required:!0,message:"请输入标签别名",trigger:"blur"}]},editrules:{name:[{required:!0,message:"请输入标签名称",trigger:"blur"}],alias:[{required:!0,message:"请输入标签别名",trigger:"blur"}]},multipleSelection:[],listQuery:{page:1,limit:5},total:null,dialogFormVisible:!1,id:""}},methods:{handleSelectionChange:function(e){this.multipleSelection=e},handleSizeChange:function(e){this.listQuery.limit=e,this.initTagList()},handleCurrentChange:function(e){this.listQuery.page=e,this.initTagList()},submit:function(){var e=this;this.$refs.dataForm.validate(function(t){t&&i.a.tagInsert(e.Form).then(function(t){0===t.data.code?(e.$notify({type:"success",title:"成功",message:"标签添加成功"}),e.$refs.dataForm.resetFields(),e.initTagList()):-1===t.data.code&&e.$notify({type:"error",title:"失败",message:t.data.message})})})},editsubmit:function(){var e=this;this.$refs.dataForm2.validate(function(t){t&&i.a.editOneTag(e.id,e.editForm).then(function(t){0===t.data.code&&(e.dialogFormVisible=!1,e.$refs.dataForm2.resetFields(),e.initTagList(),e.$notify({type:"success",title:"成功",message:t.data.message}))}).catch(function(e){console.log(e)})})},initTagList:function(){var e=this;i.a.getTaglist(this.listQuery).then(function(t){0===t.data.code&&(e.tableData=t.data.tagList,e.total=t.data.total,e.loading=!1)})},getOneTag:function(e){var t=this;i.a.getOneTag({_id:e}).then(function(e){0===e.data.code&&(t.editForm.name=e.data.tagobj.name,t.editForm.alias=e.data.tagobj.alias)}).catch(function(e){console.log(e)})},handleEdit:function(e){this.id=e,this.getOneTag(e),this.dialogFormVisible=!0},handleDelete:function(e){var t=this;this.$confirm("确定永久删除该记录吗？","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.a.delTag({_id:e}).then(function(e){0===e.data.code?(t.initTagList(),t.$notify({type:"success",title:"成功",message:e.data.message})):t.$notify({type:"error",title:"失败",message:e.data.message})})})}},mounted:function(){this.initTagList()}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticClass:"path",attrs:{"separator-class":"el-icon-arrow-right"}},[a("span",{staticStyle:{float:"left"}},[e._v("当前位置：")]),e._v(" "),a("el-breadcrumb-item",[e._v("文章管理")]),e._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/article/tag"}}},[e._v("文章标签")])],1),e._v(" "),a("el-row",[a("el-col",{staticClass:"tag-left",attrs:{lg:5,md:5,sm:24,xs:24}},[a("p",[e._v("添加标签")]),e._v(" "),a("div",{staticClass:"form-box"},[a("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.Form,"label-position":"top"}},[a("el-form-item",{attrs:{label:"标签名称：",prop:"name","inline-message":!0}},[a("el-input",{attrs:{placeholder:"标签名称"},model:{value:e.Form.name,callback:function(t){e.$set(e.Form,"name",t)},expression:"Form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标签别名：",prop:"alias","inline-message":!0}},[a("el-input",{attrs:{placeholder:"标签别名（字母，下划线）"},model:{value:e.Form.alias,callback:function(t){e.$set(e.Form,"alias",t)},expression:"Form.alias"}})],1)],1),e._v(" "),a("el-button",{staticClass:"submit",attrs:{type:"primary",icon:"el-icon-check",size:"medium"},on:{click:e.submit}},[e._v("添加标签")])],1)]),e._v(" "),a("el-col",{staticClass:"tag-right",attrs:{lg:17,md:17,sm:24,xs:24}},[a("p",[e._v("标签列表")]),e._v(" "),a("div",{staticClass:"tag-list"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{border:"",stripe:"",data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"ID",width:"55"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"标签名称","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"alias",label:"标签别名","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"article_num",label:"文章数量","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("formatTime")(t.row.creat_time))+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{size:"mini",type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(a){e.handleEdit(t.row._id)}}}),e._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){e.handleDelete(t.row._id)}}})]}}])})],1)],1),e._v(" "),e.total?a("div",{staticClass:"pagination-box"},[a("el-pagination",{attrs:{background:"","current-page":1,"page-sizes":[5,10,15,20],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()])],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.dialogFormVisible,width:"30%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("div",{staticClass:"tag-edit"},[a("div",{staticClass:"form-box"},[a("el-form",{ref:"dataForm2",attrs:{rules:e.editrules,model:e.editForm,"label-position":"top"}},[a("el-form-item",{attrs:{label:"标签名称：",prop:"name","inline-message":!0}},[a("el-input",{attrs:{placeholder:"标签名称"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标签别名：",prop:"alias","inline-message":!0}},[a("el-input",{attrs:{placeholder:"标签别名（字母，下划线）"},model:{value:e.editForm.alias,callback:function(t){e.$set(e.editForm,"alias",t)},expression:"editForm.alias"}})],1)],1),e._v(" "),a("el-button",{staticClass:"submit",attrs:{type:"primary",icon:"el-icon-check",size:"medium"},on:{click:e.editsubmit}},[e._v("修改标签")])],1)])])],1)},staticRenderFns:[]};var r=a("VU/8")(o,n,!1,function(e){a("Vxw6")},"data-v-c42eb224",null);t.default=r.exports}});
//# sourceMappingURL=9.09da8a4b09180a271539.js.map